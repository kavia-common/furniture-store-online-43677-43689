{"is_source_file": true, "format": "JavaScript", "description": "This file defines the ProductDetail React component for displaying product details, images, and reviews on a shopping website.", "external_files": ["../data/fetchProducts", "../context/CartContext", "../context/WishlistContext", "../components/ReviewSummary", "../components/ReviewsList", "../components/ReviewForm", "../data/mockReviews"], "external_methods": ["useParams", "fetchProductById", "useCart", "useWishlist", "ReviewSummary", "ReviewsList", "ReviewForm"], "published": ["ProductDetail"], "classes": [], "methods": [{"name": "getHighResUrl(img, size = 1200)", "description": "Helper function that constructs high-resolution image URLs, appending query parameters if API base URL is configured.", "scope": "", "scopeKind": ""}, {"name": "addReviewLocal(newReviewInput)", "description": "Handles adding a new review to the state, either by simulating a backend call or updating local mock data.", "scope": "ProductDetail", "scopeKind": "function"}, {"name": "ProductDetail()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "onKey(e)", "scope": "ProductDetail", "scopeKind": "function", "description": "unavailable"}], "calls": ["useParams", "fetch", "fetchProductById", "setProduct", "useCart", "addToCart", "items", "incrementQty", "decrementQty", "removeFromCart", "updateQty", "getLineTotal", "setReviews", "setLoadingReviews", "setModal", "setHoverZoom", "useRef", "useEffect", "window.location.hash", "scrollIntoView", "setTimeout", "fetchProductById", "console.log"], "search-terms": ["ProductDetail", "product", "reviews", "image", "gallery", "modal", "wishlist", "cart", "reviewsSectionRef", "getHighResUrl", "addReviewLocal"], "state": 2, "file_id": 25, "knowledge_revision": 113, "git_revision": "fb2a4f98a45bbd20223b9490ab7f30eff56a5be4", "revision_history": [{"56": ""}, {"82": "0e62648b55c1085b1f430d0b33ce4eaaef90d265"}, {"85": "cf60b66bf4efbee83e755e6742843ba89742856e"}, {"95": "5a341fd878d089c01687c437c7578daa397644e8"}, {"101": "a186e9345775a905396c617edfcb3409528eb0f9"}, {"104": "a186e9345775a905396c617edfcb3409528eb0f9"}, {"112": "fb2a4f98a45bbd20223b9490ab7f30eff56a5be4"}, {"113": "fb2a4f98a45bbd20223b9490ab7f30eff56a5be4"}], "ctags": [{"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  tabIndex={0}$/", "language": "JavaScript", "kind": "field", "scope": "tabIndex", "scopeKind": "class"}, {"_type": "tag", "name": "0", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            tabIndex={0}$/", "language": "JavaScript", "kind": "field", "scope": "tabIndex", "scopeKind": "class"}, {"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  min={1}$/", "language": "JavaScript", "kind": "field", "scope": "min", "scopeKind": "class"}, {"_type": "tag", "name": "99", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  max={99}$/", "language": "JavaScript", "kind": "field", "scope": "max", "scopeKind": "class"}, {"_type": "tag", "name": "ProductDetail", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^export default function ProductDetail() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "addReviewLocal", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^          onSubmit={addReviewLocal}$/", "language": "JavaScript", "kind": "field", "scope": "onSubmit", "scopeKind": "class"}, {"_type": "tag", "name": "addReviewLocal", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^  function addReviewLocal(newReviewInput) {$/", "language": "JavaScript", "kind": "function", "signature": "(newReviewInput)", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  onChange={e => {$/", "language": "JavaScript", "kind": "property", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^              e.preventDefault();$/", "language": "JavaScript", "kind": "field", "scope": "onClick.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^              e.stopPropagation(); toggleWishlist(product.id);$/", "language": "JavaScript", "kind": "field", "scope": "onClick.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onClick={e => {$/", "language": "JavaScript", "kind": "property", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onKeyDown={e => (e.key === \"Enter\" || e.key === \" \") && setModal({ open: true, imgId/", "language": "JavaScript", "kind": "property", "scope": "onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onKeyDown={e => {$/", "language": "JavaScript", "kind": "property", "scope": "onKeyDown", "scopeKind": "class"}, {"_type": "tag", "name": "false", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^          submitting={false}$/", "language": "JavaScript", "kind": "field", "scope": "submitting", "scopeKind": "class"}, {"_type": "tag", "name": "getHighResUrl", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^function getHighResUrl(img, size = 1200) {$/", "language": "JavaScript", "kind": "function", "signature": "(img, size = 1200)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^      id:$/", "language": "JavaScript", "kind": "property", "scope": "ProductDetail.addReviewLocal.newReview", "scopeKind": "class"}, {"_type": "tag", "name": "item", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  disabled={item.qty <= 1}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "item", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  disabled={item.qty >= 99}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "item", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  value={item.qty}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "item", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            const item = items.find(i => i.id === product.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "name} from cart", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  aria-label={`Remove ${product.name} from cart`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.Remove ${product", "scopeKind": "class"}, {"_type": "tag", "name": "name} to cart", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  aria-label={`Add ${product.name} to cart`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.Add ${product", "scopeKind": "class"}, {"_type": "tag", "name": "name}", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  aria-label={`Decrease quantity of ${product.name}`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.Decrease quantity of ${product", "scopeKind": "class"}, {"_type": "tag", "name": "name}", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  aria-label={`Increase quantity of ${product.name}`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.Increase quantity of ${product", "scopeKind": "class"}, {"_type": "tag", "name": "name}", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  aria-label={`Set quantity for ${product.name}`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.Set quantity for ${product", "scopeKind": "class"}, {"_type": "tag", "name": "name}", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            aria-label={`View full size image of ${product.name}`}$/", "language": "JavaScript", "kind": "field", "scope": "aria.View full size image of ${product", "scopeKind": "class"}, {"_type": "tag", "name": "newReview", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^    const newReview = {$/", "language": "JavaScript", "kind": "class", "scope": "ProductDetail.addReviewLocal", "scopeKind": "class"}, {"_type": "tag", "name": "onChange", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                  onChange={e => {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "onClick", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onClick={e => {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "onKey", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^    function onKey(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "ProductDetail", "scopeKind": "function"}, {"_type": "tag", "name": "onKeyDown", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onKeyDown={e => (e.key === \"Enter\" || e.key === \" \") && setModal({ open: true, imgId/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "onKeyDown", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            onKeyDown={e => {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "process", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^              process.env.REACT_APP_API_BASE$/", "language": "JavaScript", "kind": "field", "scope": "srcSet", "scopeKind": "class"}, {"_type": "tag", "name": "product", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            alt={product.name}$/", "language": "JavaScript", "kind": "field", "scope": "alt", "scopeKind": "class"}, {"_type": "tag", "name": "reviews", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^          <ReviewSummary reviews={reviews || []} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "AnonymousClass652e2c280401", "scopeKind": "class"}, {"_type": "tag", "name": "wished", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                fill={wished ? \"var(--primary)\" : \"none\"}$/", "language": "JavaScript", "kind": "field", "scope": "fill", "scopeKind": "class"}, {"_type": "tag", "name": "wished", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^                stroke={wished ? \"#fff\" : \"var(--primary)\"}$/", "language": "JavaScript", "kind": "field", "scope": "stroke", "scopeKind": "class"}, {"_type": "tag", "name": "wished", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            aria-label={wished ? `Remove ${product.name} from wishlist` : `Add ${product.name} t/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.aria", "scopeKind": "class"}, {"_type": "tag", "name": "wished", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            aria-pressed={wished}$/", "language": "JavaScript", "kind": "field", "scope": "aria", "scopeKind": "class"}, {"_type": "tag", "name": "wished", "path": "/home/kavia/workspace/code-generation/furniture-store-online-43677-43689/furniture_shopping_frontend/src/pages/ProductDetail.js", "pattern": "/^            title={wished ? \"Remove from wishlist\" : \"Add to wishlist\"}$/", "language": "JavaScript", "kind": "field", "scope": "ProductDetail.title", "scopeKind": "class"}], "hash": "c7cb8250212fc1793fb0f64e4f1ddc73", "format-version": 4, "code-base-name": "furniture_shopping_frontend", "filename": "furniture_shopping_frontend/src/pages/ProductDetail.js", "fields": [{"name": "tabIndex={0}", "scope": "tabIndex", "scopeKind": "class", "description": "unavailable"}, {"name": "min={1}", "scope": "min", "scopeKind": "class", "description": "unavailable"}, {"name": "max={99}", "scope": "max", "scopeKind": "class", "description": "unavailable"}, {"name": "onSubmit={addReviewLocal}", "scope": "onSubmit", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={e => {", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "e.preventDefault();", "scope": "onClick.e", "scopeKind": "class", "description": "unavailable"}, {"name": "e.stopPropagation(); toggleWishlist(product.id);", "scope": "onClick.e", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={e => {", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={e => (e.key === \"Enter\" || e.key === \" \") && setModal({ open: true, imgId/", "scope": "onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "onKeyDown={e => {", "scope": "onKeyDown", "scopeKind": "class", "description": "unavailable"}, {"name": "submitting={false}", "scope": "submitting", "scopeKind": "class", "description": "unavailable"}, {"name": "id:", "scope": "ProductDetail.addReviewLocal.newReview", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={item.qty <= 1}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={item.qty >= 99}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "value={item.qty}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Remove ${product.name} from cart`}", "scope": "aria.Remove ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Add ${product.name} to cart`}", "scope": "aria.Add ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Decrease quantity of ${product.name}`}", "scope": "aria.Decrease quantity of ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Increase quantity of ${product.name}`}", "scope": "aria.Increase quantity of ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`Set quantity for ${product.name}`}", "scope": "aria.Set quantity for ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={`View full size image of ${product.name}`}", "scope": "aria.View full size image of ${product", "scopeKind": "class", "description": "unavailable"}, {"name": "process.env.REACT_APP_API_BASE", "scope": "srcSet", "scopeKind": "class", "description": "unavailable"}, {"name": "alt={product.name}", "scope": "alt", "scopeKind": "class", "description": "unavailable"}, {"name": "<ReviewSummary reviews={reviews || []} \\/>", "scope": "AnonymousClass652e2c280401", "scopeKind": "class", "description": "unavailable"}, {"name": "fill={wished ? \"var(--primary)\" : \"none\"}", "scope": "fill", "scopeKind": "class", "description": "unavailable"}, {"name": "stroke={wished ? \"#fff\" : \"var(--primary)\"}", "scope": "stroke", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-label={wished ? `Remove ${product.name} from wishlist` : `Add ${product.name} t/", "scope": "ProductDetail.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-pressed={wished}", "scope": "aria", "scopeKind": "class", "description": "unavailable"}, {"name": "title={wished ? \"Remove from wishlist\" : \"Add to wishlist\"}", "scope": "ProductDetail.title", "scopeKind": "class", "description": "unavailable"}]}